[gd_scene load_steps=10 format=3 uid="uid://jymuym62nmct"]

[ext_resource type="PackedScene" uid="uid://dvs73k0tkjij4" path="res://packedscenes/creatures/creature.tscn" id="1_5vrjf"]
[ext_resource type="Script" path="res://scripts/Player_Deprecated.gd" id="2_7yjal"]
[ext_resource type="PackedScene" uid="uid://cnn2uxqrtmn78" path="res://packedscenes/bullet.tscn" id="3_0fbu5"]
[ext_resource type="AudioStream" uid="uid://mkfbd0r5o8ke" path="res://audio/thrust.wav" id="3_7eqxd"]
[ext_resource type="Script" path="res://scripts/Gun.gd" id="3_r8khv"]
[ext_resource type="Script" path="res://scripts/gfx/VectorPolygonRendering.gd" id="4_ienpe"]
[ext_resource type="Script" path="res://scripts/PlayerPickupVacuum.gd" id="5_iboy3"]
[ext_resource type="AudioStream" uid="uid://gwmuuh2c41u4" path="res://audio/lazerLofi.wav" id="6_0an66"]

[sub_resource type="CircleShape2D" id="CircleShape2D_ntkiv"]
radius = 64.0

[node name="Player" instance=ExtResource("1_5vrjf")]
freeze_mode = 1
script = ExtResource("2_7yjal")
thrust_speed = 800.0
turn_speed = 70.0
max_speed = 2000.0
hard_speed_limit = 7000.0
ignore_speed_limit = false
thrust_at_max_speed = 1.0
excessive_speed_linear_damp_factor = 0.98
turn_linear_damp_factor = 0.99
thrust_turn_factor = 0.8
fire_turn_factor = 0.95
turn_with_velocity_turn_factor = 0.85
fire_max_speed_factor = 0.9
fire_acceleration_factor = 0.8
double_tap_msec = 200.0
turn_around_acceleration_factor = 1.5
side_boost = 0.0
quick_turn_degrees = 0
health = 3.0
max_health = 3.0

[node name="Thrust" type="AudioStreamPlayer2D" parent="." index="0"]
stream = ExtResource("3_7eqxd")
volume_db = 7.61
bus = &"Effects"

[node name="ThrustTriangle" type="Polygon2D" parent="." index="1"]
visible = false
modulate = Color(0.670588, 0.670588, 0.670588, 1)
position = Vector2(-1.13687e-12, 10)
rotation = 3.14159
scale = Vector2(9.5, 9.5)
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(-0.3, 0.5, 0.3, 0.5, 0, -0.857147)
script = ExtResource("4_ienpe")
circle_draw_color = Color(0.654902, 0.654902, 0.654902, 1)
line_draw_color = Color(0.654902, 0.654902, 0.654902, 1)

[node name="TrunkCollision" parent="." index="2"]
polygon = PackedVector2Array(6, -3, 0, -12, -6, -3, -8.5, 7.5, -3.5, 5, 3.5, 5, 8.5, 7.5)

[node name="TurnLeftTriangle" type="Polygon2D" parent="." index="3"]
visible = false
modulate = Color(0.670588, 0.670588, 0.670588, 1)
position = Vector2(4, 7)
rotation = 3.14159
scale = Vector2(9.5, 9.5)
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(-0.2, 0.1, 0.2, 0.1, 0, -0.4)
script = ExtResource("4_ienpe")
circle_draw_color = Color(0.654902, 0.654902, 0.654902, 1)
line_draw_color = Color(0.654902, 0.654902, 0.654902, 1)

[node name="Gun" type="Node2D" parent="." index="4" node_paths=PackedStringArray("inherit_velocity", "immune_to_shots", "shot_parent")]
position = Vector2(0, -13.175)
script = ExtResource("3_r8khv")
shot_proto = ExtResource("3_0fbu5")
shot_force = 1200.0
cooldown_duration_secs = 0.23
inherit_velocity = NodePath("..")
immune_to_shots = [NodePath("..")]
shot_parent = NodePath("..")

[node name="Lazer" type="AudioStreamPlayer2D" parent="Gun" index="0"]
stream = ExtResource("6_0an66")
volume_db = -10.0
attenuation = 2.0
panning_strength = 1.8
bus = &"Effects"

[node name="PickupVacuum" type="Area2D" parent="." index="5"]
disable_mode = 2
collision_layer = 0
collision_mask = 32
gravity_space_override = 4
gravity_point = true
gravity_point_unit_distance = 128.0
gravity_point_center = Vector2(0, 0)
gravity_direction = Vector2(0, 0)
gravity = 512.0
script = ExtResource("5_iboy3")

[node name="VacuumCollisionShape" type="CollisionShape2D" parent="PickupVacuum" index="0"]
shape = SubResource("CircleShape2D_ntkiv")

[node name="TurnRightTriangle" type="Polygon2D" parent="." index="6"]
visible = false
modulate = Color(0.670588, 0.670588, 0.670588, 1)
position = Vector2(-4, 7)
rotation = 3.14159
scale = Vector2(9.5, 9.5)
color = Color(0, 0, 0, 0)
polygon = PackedVector2Array(-0.2, 0.1, 0.2, 0.1, 0, -0.4)
script = ExtResource("4_ienpe")
circle_draw_color = Color(1, 1, 1, 1)
line_draw_color = Color(0.654902, 0.654902, 0.654902, 1)

[node name="TrunkPolygon" parent="." index="7"]
polygon = PackedVector2Array(6, -3, 0, -12, -6, -3, -8.5, 7.5, -3.5, 5, 3.5, 5, 8.5, 7.5)

[connection signal="shot_fired" from="." to="Gun" method="shoot"]
[connection signal="thrusting_state_change" from="." to="ThrustTriangle" method="set_visible"]
[connection signal="turning_left_state_change" from="." to="TurnLeftTriangle" method="set_visible"]
[connection signal="turning_right_state_change" from="." to="TurnRightTriangle" method="set_visible"]
[connection signal="body_entered" from="PickupVacuum" to="PickupVacuum" method="_on_body_entered"]
